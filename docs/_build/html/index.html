<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>First Django admin &mdash; First Django Admin 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="First Django Admin 0.1 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">First Django Admin 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="first-django-admin">
<h1>First Django admin<a class="headerlink" href="#first-django-admin" title="Permalink to this headline">¶</a></h1>
<p>A step-by-step guide to creating a simple web application that empowers you to enlist reporters in data entry and refinement.</p>
<p>You will learn just enough about the <a class="reference external" href="https://www.djangoproject.com/">Django</a> framework to design database tables, load in data and create an administration panel for others to improve it. You will not bother with all the other web developer crap.</p>
<p>This guide in currently being developed by <a class="reference external" href="http://palewi.re/who-is-ben-welsh/">Ben Welsh</a> and Ken Schwencke for a workshop <a class="reference external" href="http://ire.org/conferences/nicar2015/hands-on-training/">scheduled for March 8</a> at
the 2015 conference of the National Institute for Computer-Assisted Reporting in Atlanta.</p>
<ul class="simple">
<li>Code:
<a class="reference external" href="https://github.com/ireapps/first-django-admin">github.com/ireapps/first-django-admin/</a></li>
<li>Issues:
<a class="reference external" href="https://github.com/ireapps/first-django-admin/issues">github.com/ireapps/first-django-admin/issues/</a></li>
</ul>
<div class="section" id="what-you-will-make">
<h2>What you will make<a class="headerlink" href="#what-you-will-make" title="Permalink to this headline">¶</a></h2>
<p>This tutorial will guide you through creating a custom Django administration panel where reporters can inspect, edit and augment a list of invitees to the <a class="reference external" href="http://www.oscars.org/">Academy of Motion Picture Arts and Sciences</a>, the elite organization that decides the Oscars.</p>
<p>In 2012, <a class="reference external" href="http://www.latimes.com/entertainment/movies/academy/la-et-unmasking-oscar-academy-project-html-htmlstory.html">a study by the Los Angeles Times</a> found the group is overwhelmingly white and male, which led to renewed calls to diversify the Oscar voting pool. A new list was used to write <a class="reference external" href="http://www.latimes.com/entertainment/envelope/moviesnow/la-et-mn-diversity-oscar-academy-members-20131221-story.html">a follow-up story</a> in 2013. The analysis appeared on the front page <a class="reference external" href="http://www.latimes.com/entertainment/movies/la-et-mn-oscar-nominations-diversity-20150116-story.html#page=1">again in early 2015</a> when the academy was criticized after announcing a <a class="reference external" href="http://graphics.latimes.com/oscar-nominees-2015/">virtually all-white slate</a> of nominees.</p>
<p>By following the steps below, you will repeat The Times&#8217; work using the academy&#8217;s 2014 list of new invitees, creating a system to share the load of producing a follow-up story in <a class="reference external" href="http://www.latimes.com/entertainment/envelope/moviesnow/la-et-mn-diversity-oscar-academy-members-20131221-story.html">this vein</a>.</p>
</div>
<div class="section" id="prelude-prerequisites">
<h2>Prelude: Prerequisites<a class="headerlink" href="#prelude-prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Before you can begin, your computer needs the following tools installed
and working to participate.</p>
<ol class="arabic simple">
<li>A <a class="reference external" href="https://en.wikipedia.org/wiki/Command-line_interface">command-line
interface</a>
to interact with your computer</li>
<li>A <a class="reference external" href="https://en.wikipedia.org/wiki/Text_editor">text editor</a> to work
with plain text files</li>
<li>Version 2.7 of the
<a class="reference external" href="http://python.org/download/releases/2.7.6/">Python</a> programming
language</li>
<li>The <a class="reference external" href="https://pip.pypa.io/en/latest/installing.html">pip</a> package manager and <a class="reference external" href="http://www.virtualenv.org/en/latest/">virtualenv</a> environment manager for Python</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Depending on your experience and operating system, you might
already be ready to go with everything above. If so, move on to the next
chapter. If not, don&#8217;t worry. And don&#8217;t give up! It will be a bit of a
slog but the instructions below will point you in the right direction.</p>
</div>
<div class="section" id="command-line-interface">
<span id="command-line-prereq"></span><h3>Command-line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h3>
<p>Unless something is wrong with your computer, there should be a way to
open a window that lets you type in commands. Different operating
systems give this tool slightly different names, but they all have some
form of it, and there are alternative programs you can install as well.</p>
<p>On Windows you can find the command-line interface by opening the
&#8220;command prompt.&#8221; Here are instructions for <a class="reference external" href="http://windows.microsoft.com/en-us/windows/command-prompt-faq#1TC=windows-8">Windows
8</a>
and <a class="reference external" href="http://windows.microsoft.com/en-us/windows-vista/open-a-command-prompt-window">earlier
versions</a>. On Apple computers, you open the <a class="reference external" href="http://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line">&#8220;Terminal&#8221;
application</a>. Ubuntu Linux comes with a program of the <a class="reference external" href="http://askubuntu.com/questions/38162/what-is-a-terminal-and-how-do-i-open-and-use-it">same
name</a>.</p>
</div>
<div class="section" id="text-editor">
<h3>Text editor<a class="headerlink" href="#text-editor" title="Permalink to this headline">¶</a></h3>
<p>A program like Microsoft Word, which can do all sorts of text formatting
like change the size and color of words, is not what you need. Do not
try to use it below.</p>
<p>You need a program that works with simple <a class="reference external" href="https://en.wikipedia.org/wiki/Text_file">&#8220;plain text&#8221;
files</a>, and is therefore
capable of editing documents containing Python code, HTML markup and
other languages without dressing them up by adding anything extra. Such
programs are easy to find and some of the best ones are free, including
those below.</p>
<p>For Windows, I recommend installing
<a class="reference external" href="http://notepad-plus-plus.org/">Notepad++</a>. For Apple computers, try
<a class="reference external" href="http://www.barebones.com/products/textwrangler/download.html">TextWrangler</a>.
In Ubuntu Linux you can stick with the pre-installed
<a class="reference external" href="https://help.ubuntu.com/community/gedit">gedit</a> text editor.</p>
</div>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>If you are using Mac OSX or a common flavor of Linux, Python is probably
already installed and you can test to see what version, if any, is there
waiting for you by typing the following into your terminal.</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ python -V
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You don&#8217;t have to type the &#8220;$&#8221; It&#8217;s just a generic symbol
geeks use to show they&#8217;re working on the command line.</p>
</div>
<p>If you don&#8217;t have Python installed (a more likely fate for Windows
users) try downloading and installing it from
<a class="reference external" href="http://www.python.org/download/releases/2.7.6/">here</a>.</p>
<p>In Windows, it&#8217;s also crucial to make sure that the Python program is
available on your system&#8217;s <tt class="docutils literal"><span class="pre">PATH</span></tt> so it can be called from anywhere on
the command line. <a class="reference external" href="http://showmedo.com/videotutorials/video?name=960000&amp;fromSeriesID=96">This
screencast</a>
can guide you through that process.</p>
<p>Python 2.7 is preferred but you can probably find a way to make most of
this tutorial work with other versions if you futz a little.</p>
</div>
</div>
<div class="section" id="pip-and-virtualenv">
<span id="command-line-pip"></span><h2>pip and virtualenv<a class="headerlink" href="#pip-and-virtualenv" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://pip.pypa.io/en/latest/">pip package manager</a>
makes it easy to install open-source libraries that
expand what you&#8217;re able to do with Python. Later, we will use it to install everything
needed to create a working web application.</p>
<p>If you don&#8217;t have it already, you can get pip by following
<a class="reference external" href="https://pip.pypa.io/en/latest/installing.html">these instructions</a>. In Windows, it&#8217;s necessary to make sure that the
Python <tt class="docutils literal"><span class="pre">Scripts</span></tt> directory is available on your system&#8217;s <tt class="docutils literal"><span class="pre">PATH</span></tt> so it can be called from anywhere on the command line. <a class="reference external" href="http://showmedo.com/videotutorials/video?name=960000&amp;fromSeriesID=96">This screencast</a> can help.</p>
<p>Verify pip is installed with the following.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip -V
</pre></div>
</div>
<p>The <a class="reference external" href="http://www.virtualenv.org/en/latest/">virtualenv environment manager</a>
makes it possible to create an isolated corner of your computer where all the different
tools you use to build an application are sealed off.</p>
<p>It might not be obvious why you need this, but it quickly becomes important when you need to juggle different tools
for different projects on one computer. By developing your applications inside separate
virtualenv environments, you can use different versions of the same third-party Python libraries without a conflict.
You can also more easily recreate your project on another machine, handy when
you want to copy your code to a server that publishes pages on the Internet.</p>
<p>You can check if virtualenv is installed with the following.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>virtualenv --version
</pre></div>
</div>
<p>If you don&#8217;t have it, install it with pip.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip install virtualenv
<span class="c"># If you&#39;re on a Mac or Linux and get an error saying you lack the right permissions, try it again as a superuser.</span>
<span class="nv">$ </span>sudo pip install virtualenv
</pre></div>
</div>
<p>If that doesn&#8217;t work, <a class="reference external" href="http://www.virtualenv.org/en/latest/virtualenv.html#installation">try following this advice</a>.</p>
</div>
<div class="section" id="act-1-hello-django">
<span id="activate"></span><h2>Act 1: Hello Django<a class="headerlink" href="#act-1-hello-django" title="Permalink to this headline">¶</a></h2>
<p>Start by creating a new development environment with virtualenv. Name it after our application.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># You don&#39;t have to type the &quot;$&quot; It&#39;s just a generic symbol</span>
<span class="c"># geeks use to show they&#39;re working on the command line.</span>
<span class="nv">$ </span>virtualenv first-django-admin
</pre></div>
</div>
<p>Jump into the directory it created.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>first-django-admin
</pre></div>
</div>
<p>Turn on the new virtualenv, which will instruct your terminal to only use those libraries installed
inside its sealed space. You only need to create the virtualenv once, but you&#8217;ll need to repeat these
&#8220;activation&#8221; steps each time you return to working on this project.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># In Linux or Mac OSX try this...</span>
<span class="nv">$ </span>. bin/activate
<span class="c"># In Windows it might take something more like...</span>
<span class="nv">$ </span><span class="nb">cd </span>Scripts
<span class="nv">$ </span>activate
<span class="nv">$ </span><span class="nb">cd</span> ..
</pre></div>
</div>
<p>Make a new directory and move into it.</p>
<p>Use <tt class="docutils literal"><span class="pre">pip</span></tt> on the command line to install <a class="reference external" href="https://www.djangoproject.com/">Djang</a>, a Python &#8220;framework&#8221;
we&#8217;ll use to put together our website.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip install Django
</pre></div>
</div>
<p>Now use Django&#8217;s <tt class="docutils literal"><span class="pre">django-admin</span></tt> command to create a new &#8220;project&#8221; that will be organized according to the framework&#8217;s rules.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>django-admin startproject project
</pre></div>
</div>
<p>Now jump into the project and we&#8217;ll start setting it up.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>project
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Run the <tt class="docutils literal"><span class="pre">ls</span></tt> command (<tt class="docutils literal"><span class="pre">dir</span></tt> on Windows), which lists the files in your current location. Wonder what all those weird files are in your new directory? We&#8217;ll only need a couple for this tutorial, but you can read about all of them in the <a class="reference external" href="https://docs.djangoproject.com/en/1.7/intro/tutorial01/#creating-a-project">official Django documentation</a>.</p>
</div>
<p>There is a lot of <a class="reference external" href="https://docs.djangoproject.com/en/1.7/intro/tutorial01/#database-setup">configuration</a> that could be done at this point, but we&#8217;re going to advance with all of the Django defaults in place.</p>
<p>The first step is creating your database, which will appear as new <a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLLite</a> file named <tt class="docutils literal"><span class="pre">db.sqlite3</span></tt>.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python manage.py migrate
</pre></div>
</div>
<p>Fire up Django&#8217;s built-in web server.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python manage.py runserver
</pre></div>
</div>
<p>Visit <a class="reference external" href="http://localhost:8000">localhost:8000</a> in your browser to see Django in action. Here&#8217;s what you should see.</p>
<img alt="_images/hello-django.png" src="_images/hello-django.png" />
<p>Congratulations. You&#8217;ve installed Django and got a blank site started up and working. Now the real work begins.</p>
</div>
<div class="section" id="act-2-hello-models">
<h2>Act 2: Hello models<a class="headerlink" href="#act-2-hello-models" title="Permalink to this headline">¶</a></h2>
<p>Now we create our app. In Django terms, an app is a collection of files that do something, like publish a blog or store public records. A project, like we made above, collects those apps and organizes them into a working website.</p>
<p>You can create a new app with Django&#8217;s <a href="#id1"><span class="problematic" id="id2">``</span></a>startapp` command. Since we are aiming to make a list of people invited to join the academy, naming this one isn&#8217;t too hard.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python manage.py startapp academy
</pre></div>
</div>
<p>There should now be a new <tt class="docutils literal"><span class="pre">academy</span></tt> folder in your project. If you look inside you will see that Django created a series of files common to every app.</p>
<p>We will only be using two of them in this tutorial. The file called <tt class="docutils literal"><span class="pre">models.py</span></tt> is where we will design our database tables. Another called <tt class="docutils literal"><span class="pre">admin.py</span></tt> is where we will configure the panels where reporters will be able to enrich the source data.</p>
<p>But before we do any of that, we need to configure out project to include our new apps. Use your text editor to open the file <tt class="docutils literal"><span class="pre">settings.py</span></tt> in the <tt class="docutils literal"><span class="pre">project</span></tt> directory. Add our app, <tt class="docutils literal"><span class="pre">academy</span></tt>, to the <tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt> list you find there.</p>
<div class="highlight-python"><div class="highlight"><pre>  <span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
      <span class="s">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
      <span class="s">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
      <span class="s">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
      <span class="s">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
      <span class="s">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
      <span class="s">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
<span class="hll">      <span class="s">&#39;academy&#39;</span><span class="p">,</span>
</span>  <span class="p">)</span>
</pre></div>
</div>
<p>Next open up the <tt class="docutils literal"><span class="pre">models.py</span></tt> file in the <tt class="docutils literal"><span class="pre">academy</span></tt> app&#8217;s directory. Here we will use Django&#8217;s built-in <a class="reference external" href="https://docs.djangoproject.com/en/1.7/topics/db/models/">models</a> system to design a database table to hold the source data.</p>
<p>Each table is defined using a Python <a class="reference external" href="http://www.learnpython.org/en/Classes_and_Objects">class</a> that inherits special powers from Django allowing it to syncronize with an underlying database. Our work begins by creating our class and naming it after the data we&#8217;ll put inside.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c"># Create your models here.</span>
<span class="hll"><span class="k">class</span> <span class="nc">Invite</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
</span></pre></div>
</div>
<p>Next, like any good database table, it needs some fields.</p>
<p>If you open <a class="reference external" href="https://github.com/ireapps/first-django-admin/blob/master/academy_invites_2014.csv">the source CSV</a>, you will see that is has only two fields: name and branch. Both are filled with characters (as opposed to other data types like integers or dates).</p>
<p>Django also has some <a class="reference external" href="https://docs.djangoproject.com/en/1.7/ref/models/fields/">fancy tricks</a> for defining fields. Use them to define the fields from our source data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Watch out. You&#8217;ll need to carefully indent your code according to Python&#8217;s very <a class="reference external" href="http://www.diveintopython.net/getting_to_know_python/indenting_code.html">strict rules</a> for this to work.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre>  <span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

  <span class="c"># Create your models here.</span>
  <span class="k">class</span> <span class="nc">Invite</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="hll">      <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</span><span class="hll">      <span class="n">branch</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</span></pre></div>
</div>
<p>Now let&#8217;s add a few more fields that we will ask the reporters to figure out and fill in. We&#8217;ll use another Django trick, the <tt class="docutils literal"><span class="pre">choices</span></tt> option, to make some of them multiple-choice fields rather than free text.</p>
<p>First gender.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c"># Create your models here.</span>
<span class="k">class</span> <span class="nc">Invite</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">branch</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="hll">    <span class="n">GENDER_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="hll">      <span class="p">(</span><span class="s">&quot;M&quot;</span><span class="p">,</span> <span class="s">&quot;Male&quot;</span><span class="p">),</span>
</span><span class="hll">      <span class="p">(</span><span class="s">&quot;F&quot;</span><span class="p">,</span> <span class="s">&quot;Female&quot;</span><span class="p">),</span>
</span><span class="hll">      <span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">,</span> <span class="s">&quot;Unknown&quot;</span><span class="p">)</span>
</span><span class="hll">    <span class="p">)</span>
</span><span class="hll">    <span class="n">gender</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span><span class="hll">        <span class="n">max_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span class="hll">        <span class="n">choices</span><span class="o">=</span><span class="n">GENDER_CHOICES</span><span class="p">,</span>
</span><span class="hll">        <span class="n">default</span><span class="o">=</span><span class="s">&quot;?&quot;</span>
</span><span class="hll">    <span class="p">)</span>
</span></pre></div>
</div>
<p>Then date of birth.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c"># Create your models here.</span>
<span class="k">class</span> <span class="nc">Invite</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">branch</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">GENDER_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
      <span class="p">(</span><span class="s">&quot;M&quot;</span><span class="p">,</span> <span class="s">&quot;Male&quot;</span><span class="p">),</span>
      <span class="p">(</span><span class="s">&quot;F&quot;</span><span class="p">,</span> <span class="s">&quot;Female&quot;</span><span class="p">),</span>
      <span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">,</span> <span class="s">&quot;Unknown&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">GENDER_CHOICES</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s">&quot;?&quot;</span>
    <span class="p">)</span>
<span class="hll">    <span class="n">date_of_birth</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span></pre></div>
</div>
<p>Finally race.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="c"># Create your models here.</span>
<span class="k">class</span> <span class="nc">Invite</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">branch</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">GENDER_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
      <span class="p">(</span><span class="s">&quot;M&quot;</span><span class="p">,</span> <span class="s">&quot;Male&quot;</span><span class="p">),</span>
      <span class="p">(</span><span class="s">&quot;F&quot;</span><span class="p">,</span> <span class="s">&quot;Female&quot;</span><span class="p">),</span>
      <span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">,</span> <span class="s">&quot;Unknown&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">GENDER_CHOICES</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s">&quot;?&quot;</span>
    <span class="p">)</span>
    <span class="n">date_of_birth</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="hll">    <span class="n">RACE_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="hll">        <span class="p">(</span><span class="s">&quot;ASIAN&quot;</span><span class="p">,</span> <span class="s">&quot;Asian&quot;</span><span class="p">),</span>
</span><span class="hll">        <span class="p">(</span><span class="s">&quot;BLACK&quot;</span><span class="p">,</span> <span class="s">&quot;Black&quot;</span><span class="p">),</span>
</span><span class="hll">        <span class="p">(</span><span class="s">&quot;LATINO&quot;</span><span class="p">,</span> <span class="s">&quot;Latino&quot;</span><span class="p">),</span>
</span><span class="hll">        <span class="p">(</span><span class="s">&quot;WHITE&quot;</span><span class="p">,</span> <span class="s">&quot;White&quot;</span><span class="p">),</span>
</span><span class="hll">        <span class="p">(</span><span class="s">&quot;OTHER&quot;</span><span class="p">,</span> <span class="s">&quot;Other&quot;</span><span class="p">),</span>
</span><span class="hll">        <span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">,</span> <span class="s">&quot;Unknown&quot;</span><span class="p">),</span>
</span><span class="hll">    <span class="p">)</span>
</span><span class="hll">    <span class="n">race</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span><span class="hll">        <span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span class="hll">        <span class="n">choices</span><span class="o">=</span><span class="n">RACE_CHOICES</span><span class="p">,</span>
</span><span class="hll">        <span class="n">default</span><span class="o">=</span><span class="s">&quot;?&quot;</span>
</span><span class="hll">    <span class="p">)</span>
</span></pre></div>
</div>
<p>Congratulations, you&#8217;ve written your first model. But it won&#8217;t be created as a real table in your database until you run what Django calls a &#8220;migration.&#8221; That&#8217;s just a fancy word for syncing our models files.</p>
<p>Make sure to save your <a href="#id3"><span class="problematic" id="id4">``</span></a>models.py``file. Then design the migration for your new model.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python manage.py makemigrations academy
</pre></div>
</div>
<p>Now run the <tt class="docutils literal"><span class="pre">migrate</span></tt> command to execute it.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python manage.py migrate academy
</pre></div>
</div>
</div>
<div class="section" id="act-3-hello-admin">
<h2>Act 3: Hello admin<a class="headerlink" href="#act-3-hello-admin" title="Permalink to this headline">¶</a></h2>
<p>Then create a new superuser with permission to edit all records.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python manage.py createsuperuser
</pre></div>
</div>
<ul class="simple">
<li>Create an admin to access and edit the new model</li>
<li>Gradually refine it so it&#8217;s better</li>
</ul>
</div>
<div class="section" id="afterparty-hello-internet">
<h2>Afterparty: Hello internet<a class="headerlink" href="#afterparty-hello-internet" title="Permalink to this headline">¶</a></h2>
<p>Instructions for after you get home about how to host it on Amazon or something like that.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">First Django admin</a><ul>
<li><a class="reference internal" href="#what-you-will-make">What you will make</a></li>
<li><a class="reference internal" href="#prelude-prerequisites">Prelude: Prerequisites</a></li>
<li><a class="reference internal" href="#pip-and-virtualenv">pip and virtualenv</a></li>
<li><a class="reference internal" href="#act-1-hello-django">Act 1: Hello Django</a></li>
<li><a class="reference internal" href="#act-2-hello-models">Act 2: Hello models</a></li>
<li><a class="reference internal" href="#act-3-hello-admin">Act 3: Hello admin</a></li>
<li><a class="reference internal" href="#afterparty-hello-internet">Afterparty: Hello internet</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">First Django Admin 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Investigative Reporters and Editors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>